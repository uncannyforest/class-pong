<html>
  <head>
    <title>Pong!</title>
    <script>

var leftY = 20; // top edge of left paddle
var rightY = 20; // top edge of right paddle
var gameHeight = 400;
var paddleHeight = 50;
var ballX = 200;
var ballY = 200;
var ballRadius = 5;
var ballDir = 80; // in degrees, beteen 0 and 360
var ballSpeed = 10;

var draw = function() {
  var canvas = document.getElementById("game");
  var ctx = canvas.getContext("2d");

  ctx.fillStyle = "black";
  ctx.fillRect(0, 0, 600, gameHeight);

  ctx.fillStyle = "white";
  ctx.fillRect(20, leftY, 5, paddleHeight);
  ctx.fillRect(575, rightY, 5, paddleHeight);

  ballY -= ballSpeed * Math.sin(ballDir * Math.PI / 180);
  ballX += ballSpeed * Math.cos(ballDir * Math.PI / 180);

  if (ballY <= 0 || ballY >= gameHeight) {
    ballDir = 360 - ballDir;
  }

  ctx.beginPath();
  ctx.arc(ballX, ballY, ballRadius, 0, 2 * Math.PI);
  ctx.fill();
};

var keypress = function(e) {
  if (e.keyCode == 38 && rightY > 0) {
    rightY -= 20;
  } else if (e.keyCode == 40 && rightY < gameHeight - paddleHeight) {
    rightY += 20;
  }
};

setInterval(draw, 20);

window.addEventListener("keydown",keypress,false);

    </script>
  </head>
  <body>

    <canvas id=game width=600 height=400 style="display: block; margin: auto;"></canvas>

  </body>
</html>
